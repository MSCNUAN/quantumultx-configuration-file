// ==UserScript==
// @ConfigName        æš–æš–å®šåˆ¶ç‰ˆ ğŸŸ¢ å…¨å±€å…æµ QX é…ç½®æ–‡ä»¶
// @Author            æš–æš– (åŸºäº @ddgksf2013 å¢¨é±¼é…ç½®ä¿®æ”¹)
// @TgChannel         https://t.me/ddgksf2021
// @ID                æš–æš–ã®å°çª
// @UpdateTime        2026/01/27 16:30
// @Function          ğŸš€ ä¸“ä¸ºå…æµç¯å¢ƒè®¾è®¡ï¼šå›½å†…æ‰€æœ‰æµé‡å‡ç»‘å®šè‡³ã€Œå›½å†…åª’ä½“ã€ç­–ç•¥ç»„
// @MainFunction      å…æµåˆ†æµä¼˜åŒ–ã€å»å¼€å±å¹¿å‘Šã€åº”ç”¨å‡€åŒ–ã€è¶…çº§VIPã€æµåª’ä½“æŸ¥è¯¢
// @ConfigVersion     3.0 (NuanNuan_Full_Flow)
// ==/UserScript==

# ğŸ“¢ ã€å…æµåšä¸»æ¸©é¦¨æç¤ºã€‘
# 1ï¸âƒ£ æœ¬é…ç½®ä¸“é—¨ç”¨æ¥å…æµï¼Œéœ€è‡ªå¤‡å›½å†…å…æµèŠ‚ç‚¹ä½¿ç”¨ã€‚ [cite: 1]
# 2ï¸âƒ£ å›½å†…æ‰€æœ‰ç­–ç•¥è§„åˆ™å·²å…¨éƒ¨ç»‘å®šè‡³ã€Œå›½å†…åª’ä½“ã€ç­–ç•¥ç»„ã€‚ [cite: 3, 9]
# 3ï¸âƒ£ è¯·åœ¨ã€Œå›½å†…åª’ä½“ã€ç­–ç•¥ç»„ä¸­æ‰‹åŠ¨é€‰æ‹©ä½ çš„ã€å›½å†…å…æµèŠ‚ç‚¹ã€‘å³å¯å®ç°å…¨å±€å…æµã€‚ [cite: 9]
# 4ï¸âƒ£ æœ¬é…ç½®ç”±å¢¨é±¼å°ç™½é…ç½® 2.0 æ·±åº¦ä¿®æ”¹è€Œæ¥ï¼Œæ„Ÿè°¢ @ddgksf2013ã€‚ 

[general]
# > ç”¨äºèŠ‚ç‚¹å»¶è¿Ÿæµ‹è¯•
server_check_url= http://www.gstatic.com/generate_204 [cite: 3]
# > æœåŠ¡å™¨æµ‹è¯•è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
server_check_timeout = 3000 [cite: 3]
# > åŠŸèƒ½å¼ºå¤§çš„è§£æå™¨
resource_parser_url=https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js [cite: 6]
# > å»ºè®®å…³é—­åˆ†æµåŒ¹é…ä¼˜åŒ–ä»¥ä¿è¯å…æµç¨³å®šæ€§
dns_exclusion_list=*.10099.com.cn, *.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me, *.pingan.com.cn [cite: 3]
udp_drop_list = 443, STUN, QUIC [cite: 4]

[dns]
no-ipv6 [cite: 9]
no-system
server=223.5.5.5 [cite: 9]
server=119.29.29.29 [cite: 9]

[policy]
# ======= å…¨å±€å…æµæ ¸å¿ƒç»„ ======= #
# ğŸŒŸ è¯·åœ¨æ­¤ç»„æ‰‹åŠ¨é€‰æ‹©ä½ çš„å›½å†…å…æµèŠ‚ç‚¹ï¼Œå›½å†…æµé‡å°†å…¨éƒ¨ç»ç”±æ­¤å¤„ [cite: 9]
static=å›½å†…åª’ä½“, proxy, direct, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/ChinaMedia.png [cite: 9]

# ======= å…¶ä»–ç­–ç•¥ç»„ (å‡å·²å…³è”å…æµæ¯ç»„) ======= #
static=è‹¹æœæœåŠ¡, å›½å†…åª’ä½“, direct, é¦™æ¸¯èŠ‚ç‚¹, proxy, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple.png [cite: 9]
static=å…¨çƒåŠ é€Ÿ, è‡ªåŠ¨é€‰æ‹©, proxy, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Global.png [cite: 9]
static=å›½é™…åª’ä½“, è‡ªåŠ¨é€‰æ‹©, å°æ¹¾èŠ‚ç‚¹, proxy, é¦™æ¸¯èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Streaming.png [cite: 9]
static=å…œåº•åˆ†æµ, è‡ªåŠ¨é€‰æ‹©, å…¨çƒåŠ é€Ÿ, proxy, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Final.png [cite: 9]

# ======= è‡ªåŠ¨æµ‹é€Ÿç»„ ======= #
url-latency-benchmark=è‡ªåŠ¨é€‰æ‹©, server-tag-regex=^(?!.*(?:ç½‘æ˜“|å¢¨é±¼)).*$, check-interval=900, tolerance=0, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png [cite: 3, 9]
url-latency-benchmark=é¦™æ¸¯èŠ‚ç‚¹, server-tag-regex=(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|ç¾)).)*$, check-interval=900, tolerance=0, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/HK.png [cite: 9]

[filter_remote]
# > åŸºç¡€ä¿®æ­£
https://raw.githubusercontent.com/ddgksf2013/Filter/master/Unbreak.list, tag=è§„åˆ™ä¿®æ­£, force-policy=direct, update-interval=172800, opt-parser=true, enabled=true [cite: 4]

# > å¹¿å‘Šå±è”½
https://raw.githubusercontent.com/Cats-Team/AdRules/main/qx.conf, tag=å¹¿å‘Šç»ˆç»“è€…, force-policy=reject, update-interval=172800, opt-parser=true, enabled=true [cite: 4]

# ğŸŒŸ å…¨å±€å…æµç»‘å®šï¼šå°†å›½å†…æ‰€æœ‰è§„åˆ™å¼ºåˆ¶æŒ‡å‘ã€Œå›½å†…åª’ä½“ã€ç­–ç•¥ç»„ [cite: 3, 9]
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/WeChat/WeChat.list, tag=å¾®ä¿¡åˆ†æµ, force-policy=å›½å†…åª’ä½“, update-interval=172800, opt-parser=false, enabled=true [cite: 3, 9]
https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.China.list, tag=å›½å†…ç½‘ç«™(ASN), force-policy=å›½å†…åª’ä½“, update-interval=172800, opt-parser=true, enabled=true [cite: 3, 9]
https://raw.githubusercontent.com/ddgksf2013/Filter/master/StreamingSE.list, tag=å“”å“©å“”å“©, force-policy=å›½å†…åª’ä½“, update-interval=172800, opt-parser=true, enabled=true [cite: 3, 9]

# > å›½é™…åˆ†æµ
https://raw.githubusercontent.com/ddgksf2013/Filter/master/Streaming.list, tag=å›½é™…åª’ä½“, force-policy=å›½é™…åª’ä½“, update-interval=172800, opt-parser=true, enabled=true [cite: 3, 9]
https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Proxy.list, tag=å…¨çƒåŠ é€Ÿè§„åˆ™, force-policy=å…¨çƒåŠ é€Ÿ, update-interval=172800, opt-parser=true, enabled=true [cite: 4, 9]

[filter_local]
host, ad.12306.cn, direct [cite: 9]
host-keyword, github, proxy [cite: 9]
# ğŸŒŸ æœ¬åœ° IP å½’å±åœ°åˆ†æµï¼šå›½å†… IP å…¨éƒ¨èµ°å…æµç»„ [cite: 9]
geoip, cn, å›½å†…åª’ä½“ [cite: 9]
final, å…œåº•åˆ†æµ [cite: 9]

[rewrite_remote]
# ======= å¹¿å‘Šå‡€åŒ– & ä¼šå‘˜è§£é” ======= #
https://ddgksf2013.top/rewrite/StartUpAds.conf, tag=å¢¨é±¼å»å¼€å±@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true [cite: 8]
https://ddgksf2013.top/rewrite/BiliBiliAdsLite.conf, tag=å“”å“©å¹¿å‘Šå‡€åŒ–@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true [cite: 4]
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/XiaoHongShuAds.conf, tag=å°çº¢ä¹¦å‡€åŒ–@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true [cite: 8]

[mitm]
skip_validating_cert = true [cite: 10]
hostname = -testflight.apple.com, -*.fcbox.com, -*huami.com, -www.google.com [cite: 4, 10]
